/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package com.servoy.build.documentation.ai;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;

public class TestAIPromptBasedOnExistingPineconeIndex
{
	public static void main(String[] args)
	{
		// FIXME only prompt, no pinecone upserts/embedding creations! We should use read the file that has those
		// Initialize the AIClient
		AIClient aiClient = new AIClient("test", "gpt-3.5-turbo-16k", "text-embedding-ada-002"); // OpenAI's text-embedding-ada-002 generates vectors with 1536 output dimensions; so existing pinecone index should use that!

//		try {
		// Some sample data to populate the Pinecone index
		// Each PineconeItem should have a 'text' field.
		// You could add other fields for metadata as needed.
		List<PineconeItem> data = new ArrayList<>();
		data.add(new PineconeItem(1, "Servoy is the best platform for creating webapps.", new HashMap<>()));
		data.add(new PineconeItem(2, "There does not exist a better platform than Servoy.", new HashMap<>()));

		// Populate the Pinecone index with the data
		//aiClient.populateIndex(data, Arrays.asList("metadata_key1", "metadata_key2"), "default");

		// Use the AIClient to answer a question
		String question = "what is Servoy?";
		String answer = aiClient.answer(question, data, "default");

		System.out.println("\n_______________________\n\nAnswer: " + answer);
//		} finally {
//			aiClient.closeHttpClient();
//		}
	}
}
